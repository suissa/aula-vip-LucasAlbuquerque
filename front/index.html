<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Front - Ajax</title>
  </head>
  <body>

    <main id="products">

    </main>

    <script src="ajax.js"></script>
    <script>
    const Lib = {};

    console.time('sync')
      for(let i = 0; i<= 1000; i++){}

    console.timeEnd('sync')

      const _get = (url = 'http://localhost:3000/products') => {

        return ajax({
          method: 'get',
          url
        })
      }

      Lib.get = _get

      let teste = 0
      const success = (data) => {
        document.getElementById("products").textContent = JSON.stringify(data)
        teste = data
      }
      
      console.log('teste: ', teste)

      const error = (err) => console.log('error: ', err)

      console.time('async')
      // console.log(
        Lib.get('http://localhost:3000/products')
            // .then(success)
            // .catch(error)
      // )
      console.timeEnd('async')
    </script>
  </body>
</html>
